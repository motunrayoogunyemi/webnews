{% extends 'layout.html' %}


{% block content%}
<div class="container">
    <div class="row">
        <div class="col">
            <div class="makepost">
                <h4>Edit your job or story</h4>
                <form action="" method="post">
                    <div><label for="" class="mt-2">Title</label><input id="tit" type="text" name="title" class="form-control" value=""></div>
                    <div><label for="" class="mt-2">Author</label><input id="auth" type="text" name="author" class="form-control" value=""></div>
                    <div><label for="" class="mt-2">Url</label><input id="url" type="text" name="url" class="form-control" value=""></div>
                    <div><label for="" class="mt-2">Text <span class="text-danger">(optional)</span></label><textarea id="txt" name="text" class="form-control"></textarea></div>
                    <button class="btn btn-danger mt-2 subbtn">Submit</button>
                </form>
            </div>
        </div>
    </div>
</div>




<script src="{{url_for('static',filename='js/jquery.min.js')}}" type="text/javascript"></script>
<script src="{{url_for('static',filename='js/popper.min.js')}}" type="text/javascript"></script>
<script src="{{url_for('static',filename='js/bootstrap.js')}}" type="text/javascript"></script>

<script type="text/javascript">
    $(document).ready(function(){
        $('#subbtn').on('click', function(e){
            e.preventDefault();
            var title = $('#tit').val();
            var author = $('#aut').val();
            var url = $('#url').val();
            var text = $('#txt').val();
            $.ajax({
                method:'PUT',
                url:"/editpost/<id>/<type>",
                data:{title:title,author:author,url:url,text:text},
                dataType:'text',
                success:function(res){
                    alert(res)   
                    alert(title)              
                },
                error:function(e){
                    alert(e)
                }
            })
        })
    })
</script>
{% endblock content%}